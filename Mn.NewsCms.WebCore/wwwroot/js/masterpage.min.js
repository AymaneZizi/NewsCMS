function preLoadTabs(){for(var i,t=$("#HeaderMenu>ul>li a"),n=0;n<t.length;n++)i=$(t[n]).attr("name"),$(t[n]).attr("data-type")=="webpart"?loadRemoteWp(t[n],i):$(t[n]).attr("data-type")=="page"&&loadPage(t[n],i)}function log(n){$("<div/>").text(n).prependTo("#log");$("#log").scrollTop(0)}function defrm(){document.write="";window.top.location=window.self.location;setTimeout(function(){document.body.innerHTML=""},0);window.self.onload=function(){document.body.innerHTML=""}}function BtnSearch(){var n=$("#content").val();return n=$.trim(n),n.length>3&&(window.location="/Key/"+encodeURIComponent(n)+"/"),!1}function SetTextDir(){$("#content").val().length>1&&($("#content").val().charCodeAt(0)>1536&&$("#content").val().charCodeAt(0)<1791||$("#content").val()==""&&$("#content").val().charCodeAt(1)>1536&&$("#content").val().charCodeAt(1)<1791||$("#content").val()==""?($("#content").css("direction","rtl"),$("#content").css("text-align","right")):($("#content").css("direction","ltr"),$("#content").css("text-align","left")))}function FlowMe(n,t,i){typeof t=="undefined"&&(t=this.EntityCode);typeof i=="undefined"&&(i=this.Content);var r;return setLoadingInput(n),t==null&&t!=""?location.href.indexOf("/Cat/")>0||location.href.indexOf("/cat/")>0?r="CatsUsersAdding?CatCode":location.href.indexOf("/Tag/")>0||location.href.indexOf("/tag/")>0?r="TagsUsersAdding?TagContent":(location.href.indexOf("/Site/")>0||location.href.indexOf("/site/")>0)&&(r="SitesUsersAdding?SiteURL"):(t=t.toLowerCase(),t=="cat"?r="CatsUsersAdding?CatCode":t=="tag"?r="TagsUsersAdding?TagContent":t=="site"&&(r="SitesUsersAdding?SiteURL")),$.ajax({url:baseLocation+"/user/"+r+"="+i,type:"GET",async:!1,success:function(t){return t?(alert("این مورد با موفقیت  به دنباله های شما افزوده شد"),$(n).hide(),!0):(alert("خطا رخ داد،لطفا مجدد سعی کنید"),!1)},error:function(){return alert("error"),!1}}),addGAEvent("TZSocial","FlowMe",i),!0}function UnFlow(n,t,i){typeof t=="undefined"&&(t=this.EntityCode);typeof i=="undefined"&&(i=this.Content);var r;return setLoadingInput(n),t==null&&t!=""?location.href.indexOf("/Cat/")>0||location.href.indexOf("/cat/")>0?r="CatsUsersDeleting?CatCode":location.href.indexOf("/Tag/")>0||location.href.indexOf("/tag/")>0?r="TagsUsersDeleting?TagContent":(location.href.indexOf("/Site/")>0||location.href.indexOf("/site/")>0)&&(r="SitesUsersDeleting?SiteURL"):(t=t.toLowerCase(),t=="cat"?r="CatsUsersDeleting?CatCode":t=="tag"?r="TagsUsersDeleting?TagContent":t=="site"&&(r="SitesUsersDeleting?SiteURL")),$.ajax({url:baseLocation+"/user/"+r+"="+i,type:"GET",async:!1,success:function(t){return t?(alert("این مورد از لیست دنباله های شما حذف شد"),$(n).hide(),$(n).prev().hide(),!0):(alert("خطا رخ داد،لطفا مجدد سعی کنید"),!1)},error:function(){return alert("error"),!1}}),addGAEvent("TZSocial","UnFlowMe",i),!0}function setLoading(n){$(n).html("<div style='margin:auto;text-align:center'><br /><br /><img src='http://"+location.host+"/Images/facebook-loading.gif' /><br /><\/div>")}function setLoadingHorizontal(n){$(n).html("<img style='margin:auto;' src='http://"+location.host+"/Images/loadingAnimation.gif' />")}function setLoadingInput(n){$(n).val("منتظر باشید...");$(n).attr("disabled","disabled")}function IncreaseVisitCount(n,t){var i=n.split(":"),e=i[0],r=i[1],f,o,u;(i[2]==null||i[2]=="")&&(i[2]=typeof EntityRef=="undefined"?"0":EntityRef);f=parseInt(i[2]);o=new Date(Date.parse(i[3].replace("_",":")));addGAEvent("VisitItem",r+":"+f,e);(r==null||r=="")&&(r=typeof EntityCode=="undefined"?"null":EntityCode);u="/Items/IncreaseVisitCount";u=u.trim();$.ajax({url:u,type:"POST",data:JSON.stringify({FeedItemId:e,EntityCode:r,EntityRef:f,Title:t,pubDate:o}),contentType:"application/json; charset=utf-8"})}function isUrlExists(n){var t;t=location.href.indexOf("/site/")>0?location.href.substring(0,location.href.indexOf("/site/")):location.href.indexOf("/Site/")>0?location.href.substring(0,location.href.indexOf("/Site/")):location.hostname;$.ajax({url:t+"/toolbox/IsWebReady?url="+n,type:"GET",success:function(n){n?$(".DRater").css("height",80):$("#DFaceBookLike").hide()}})}function resizeIframe(n){n.style.height=n.contentWindow.document.body.scrollHeight+"px"}function loadMostVisitedItems(n,t){t=t==""||t==null?0:t;var i=parseInt(t);$("#DMostVisitedContent").html().length<50&&(setLoading("#DMostVisitedContent"),n=n==null||n==""?"Any":n,$("#DMostVisitedContent").load("/Items/MostVisitedItems/?EntityCode="+n+"&EntityRef="+i+"&PageSize=20",function(n){$("#DMostVisitedContent").html(n)}),addGAEvent("Tab","LoadMostVisitedItems",n+":"+t))}function loadRemoteWp(n,t){var i="#DWp_"+n.name;$(i).html().length>50||(setLoading(i),t=t==null||t==""?"Any":t,$(i).load("/RemotewebPart/wpframe/?wpcode="+t,function(n){$(i).html(n);addGAEvent("Tab","LoadRemoteWP",t)}))}function loadPage(n,t){var i="#Dp_"+n.name;$(i).html().length>50||(setLoading(i),t=t==null||t==""?"Any":t,$(i).load("/Page/"+t+"/true",function(n){$(i).html(n);addGAEvent("Tab","LoadPage",t)}))}function tbShiftLeft(){$("DRightShifter").show();$("#uTabsHeader li")[0].style.marginRight="-100px"}function tbShiftRight(){}function addGAEvent(n,t,i){try{_gaq.push(["_trackEvent",n,t,i])}catch(r){console.log("GA error ",r)}}function loadVerticalMenu(){var n=baseLocation+"/Ads/VerticalMenu";$("#DAdsMain").load(n,function(n){$("#DAdsMain").html(n)})}function loadVerticalMenuBottom(){var n=baseLocation+"/Ads/VerticalMenuBottom";$("#DAdsMain").load(n,function(n){$("#DAdsMain").html(n)})}function funSocialAjaxi(n,t,i,r){addGAEvent("ShareInSocialNetwork",t,n);$(this).load("/SNShare/Log/?FeedItemId="+n+"&SocialNetwork="+t,function(){});typeof r=="undefined"?window.open(i+parent.location.href):window.open(i+baseLocation+r)}function showRightMenu(n){document.getElementById("DRightMenu").style.display="block";document.getElementById("DRightMenu").style.width="100%";n.style.display="none"}function generateTopMenu(){var t,n,u,i,r,f;$("#TopMenu.cssmenu").prepend('<div id="indicatorContainer"><div id="pIndicator"><div id="cIndicator"><\/div><\/div><\/div>');t=$("#TopMenu.cssmenu>ul>li:first");$("#TopMenu.cssmenu>ul>li").each(function(){$(this).hasClass("active")&&(t=$(this))});n=t.position().left;u=t.width();n=n+u/2-6;t.hasClass("has-sub")&&(n-=6);$("#TopMenu.cssmenu #pIndicator").css("left",n);f=$("#cssmenu pIndicator");$("#TopMenu.cssmenu>ul>li").hover(function(){i=$(this);var n=i.width();r=$(this).hasClass("has-sub")?i.position().left+n/2-12:i.position().left+n/2-6;$("#TopMenu.cssmenu #pIndicator").css("left",r)},function(){$("#TopMenu.cssmenu #pIndicator").css("left",n)});$("#TopMenu.cssmenu>ul>.has-sub>ul").append('<div class="submenuArrow"><\/div>');$("#TopMenu.cssmenu>ul").children(".has-sub").each(function(){var n=$(this).width();n/=2;n+=22;$(this).find(".submenuArrow").css("right",n)});$("#TopMenu.cssmenu>ul").prepend('<li id="menu-button"><a>نمایش منو<\/a><span class="btn-lg glyphicon glyphicon-align-justify"><\/span><\/li>');$("#TopMenu.cssmenu #menu-button").click(function(){$(this).parent().hasClass("open")?$(this).parent().removeClass("open"):$(this).parent().addClass("open")})}function generateAjaxLink(){for(var t=$("a.ajaxlink"),n=0;n<t.length;n++)$(t[n]).attr("data-link",$(t[n]).attr("href")),$(t[n]).attr("href","##")}$(document).ready(function(){AuthenticateObject.Authentication();var t=LastSiteUpdate.replace(/-/g,"/"),n=Math.abs(new Date-new Date(t)),i=n/864e5,r=n/36e5,u=n/6e4+1;if($("#content").length>0)try{$("#content").keyup(function(){SetTextDir()})}catch(f){}try{$("#content").autocomplete({serviceUrl:"/feed/autocompleteasync",minChars:3,deferRequestBy:100,transformResult:function(n){return{suggestions:$.map($.parseJSON(n),function(n){return{value:n.value,data:n.data}})}},onSelect:function(){$("#form-search").submit()}})}catch(e){}$("ul.nav li.dropdown").hover(function(){$(this).find(".dropdown-menu").stop(!0,!0).delay(200).fadeIn()},function(){$(this).find(".dropdown-menu").stop(!0,!0).delay(200).fadeOut()});$("#treeMenu").length>0&&($('#treeMenu ul li:has("div")').find("span:first").addClass("closed"),$('#treeMenu ul li:has("div")').find("div").hide(),$('#treeMenu li:has("div")').find("span:first").click(function(){$(this).parent("li").find("span:first").toggleClass("opened");$(this).parent("li").find("div:first").slideToggle()}));generateTopMenu();$("#HeaderMenu>ul>li a").click(function(){$("#HeaderMenu>ul>li.active").removeClass("active");$(this).parent().addClass("active");$(".tab-content .tab-pane").removeClass("active");var n=$(this).attr("name");$(".tab-content #tabs-"+n).addClass("active");$(this).attr("data-type")=="webpart"?loadRemoteWp(this,n):$(this).attr("data-type")=="page"&&loadPage(this,n)});setInterval(function(){$("#ticker li:first").slideUp(function(){$(this).appendTo($("#ticker")).slideDown()})},2500)}),function(n){"use strict";typeof define=="function"&&define.amd?define(["jquery"],n):typeof exports=="object"&&typeof require=="function"?n(require("jquery")):n(jQuery)}(function(n){"use strict";function i(t,r){var f=function(){},u=this,e={ajaxSettings:{},autoSelectFirst:!1,appendTo:document.body,serviceUrl:null,lookup:null,onSelect:null,width:"auto",minChars:1,maxHeight:300,deferRequestBy:0,params:{},formatResult:i.formatResult,delimiter:null,zIndex:9999,type:"GET",noCache:!1,onSearchStart:f,onSearchComplete:f,onSearchError:f,preserveInput:!1,containerClass:"autocomplete-suggestions",tabDisabled:!1,dataType:"text",currentRequest:null,triggerSelectOnValidInput:!0,preventBadQueries:!0,lookupFilter:function(n,t,i){return n.value.toLowerCase().indexOf(i)!==-1},paramName:"query",transformResult:function(t){return typeof t=="string"?n.parseJSON(t):t},showNoSuggestionNotice:!1,noSuggestionNotice:"No results",orientation:"bottom",forceFixPosition:!1};u.element=t;u.el=n(t);u.suggestions=[];u.badQueries=[];u.selectedIndex=-1;u.currentValue=u.element.value;u.intervalId=0;u.cachedResponse={};u.onChangeInterval=null;u.onChange=null;u.isLocal=!1;u.suggestionsContainer=null;u.noSuggestionsContainer=null;u.options=n.extend({},e,r);u.classes={selected:"autocomplete-selected",suggestion:"autocomplete-suggestion"};u.hint=null;u.hintValue="";u.selection=null;u.initialize();u.setOptions(r)}var r=function(){return{escapeRegExChars:function(n){return n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},createNode:function(n){var t=document.createElement("div");return t.className=n,t.style.position="absolute",t.style.display="none",t}}}(),t={ESC:27,TAB:9,RETURN:13,LEFT:37,UP:38,RIGHT:39,DOWN:40};i.utils=r;n.Autocomplete=i;i.formatResult=function(n,t){var i=n.value.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"),u="("+r.escapeRegExChars(t)+")";return i};i.prototype={killerFn:null,initialize:function(){var t=this,f="."+t.classes.suggestion,e=t.classes.selected,u=t.options,r;t.element.setAttribute("autocomplete","off");t.killerFn=function(i){n(i.target).closest("."+t.options.containerClass).length===0&&(t.killSuggestions(),t.disableKillerFn())};t.noSuggestionsContainer=n('<div class="autocomplete-no-suggestion"><\/div>').html(this.options.noSuggestionNotice).get(0);t.suggestionsContainer=i.utils.createNode(u.containerClass);r=n(t.suggestionsContainer);r.appendTo(u.appendTo);u.width!=="auto"&&r.width(u.width);r.on("mouseover.autocomplete",f,function(){t.activate(n(this).data("index"))});r.on("mouseout.autocomplete",function(){t.selectedIndex=-1;r.children("."+e).removeClass(e)});r.on("click.autocomplete",f,function(){t.select(n(this).data("index"))});t.fixPositionCapture=function(){t.visible&&t.fixPosition()};n(window).on("resize.autocomplete",t.fixPositionCapture);t.el.on("keydown.autocomplete",function(n){t.onKeyPress(n)});t.el.on("keyup.autocomplete",function(n){t.onKeyUp(n)});t.el.on("blur.autocomplete",function(){t.onBlur()});t.el.on("focus.autocomplete",function(){t.onFocus()});t.el.on("change.autocomplete",function(n){t.onKeyUp(n)});t.el.on("input.autocomplete",function(n){t.onKeyUp(n)})},onFocus:function(){var n=this;n.fixPosition();n.options.minChars<=n.el.val().length&&n.onValueChange()},onBlur:function(){this.enableKillerFn()},abortAjax:function(){var n=this;n.currentRequest&&(n.currentRequest.abort(),n.currentRequest=null)},setOptions:function(t){var r=this,i=r.options;n.extend(i,t);r.isLocal=n.isArray(i.lookup);r.isLocal&&(i.lookup=r.verifySuggestionsFormat(i.lookup));i.orientation=r.validateOrientation(i.orientation,"bottom");n(r.suggestionsContainer).css({"max-height":i.maxHeight+"px",width:i.width+"px","z-index":i.zIndex})},clearCache:function(){this.cachedResponse={};this.badQueries=[]},clear:function(){this.clearCache();this.currentValue="";this.suggestions=[]},disable:function(){var n=this;n.disabled=!0;clearInterval(n.onChangeInterval);n.abortAjax()},enable:function(){this.disabled=!1},fixPosition:function(){var t=this,i=n(t.suggestionsContainer),s=i.parent().get(0),a,o;if(s===document.body||t.options.forceFixPosition){var f=t.options.orientation,e=i.outerHeight(),h=t.el.outerHeight(),u=t.el.offset(),r={top:u.top,left:u.left};if(f==="auto"){var v=n(window).height(),c=n(window).scrollTop(),l=-c+u.top-e,y=c+v-(u.top+h+e);f=Math.max(l,y)===l?"top":"bottom"}r.top+=f==="top"?-e:h;s!==document.body&&(a=i.css("opacity"),t.visible||i.css("opacity",0).show(),o=i.offsetParent().offset(),r.top-=o.top,r.left-=o.left,t.visible||i.css("opacity",a).hide());t.options.width==="auto"&&(r.width=t.el.outerWidth()-2+"px");i.css(r)}},enableKillerFn:function(){var t=this;n(document).on("click.autocomplete",t.killerFn)},disableKillerFn:function(){var t=this;n(document).off("click.autocomplete",t.killerFn)},killSuggestions:function(){var n=this;n.stopKillSuggestions();n.intervalId=window.setInterval(function(){n.hide();n.stopKillSuggestions()},50)},stopKillSuggestions:function(){window.clearInterval(this.intervalId)},isCursorAtEnd:function(){var i=this,n=i.el.val().length,r=i.element.selectionStart,t;return typeof r=="number"?r===n:document.selection?(t=document.selection.createRange(),t.moveStart("character",-n),n===t.text.length):!0},onKeyPress:function(n){var i=this;if(!i.disabled&&!i.visible&&n.which===t.DOWN&&i.currentValue){i.suggest();return}if(!i.disabled&&i.visible){switch(n.which){case t.ESC:i.el.val(i.currentValue);i.hide();break;case t.RIGHT:if(i.hint&&i.options.onHint&&i.isCursorAtEnd()){i.selectHint();break}return;case t.TAB:if(i.hint&&i.options.onHint){i.selectHint();return}if(i.selectedIndex===-1){i.hide();return}if(i.select(i.selectedIndex),i.options.tabDisabled===!1)return;break;case t.RETURN:if(i.selectedIndex===-1){i.hide();return}i.select(i.selectedIndex);break;case t.UP:i.moveUp();break;case t.DOWN:i.moveDown();break;default:return}n.stopImmediatePropagation();n.preventDefault()}},onKeyUp:function(n){var i=this;if(!i.disabled){switch(n.which){case t.UP:case t.DOWN:return}clearInterval(i.onChangeInterval);i.currentValue!==i.el.val()&&(i.findBestHint(),i.options.deferRequestBy>0?i.onChangeInterval=setInterval(function(){i.onValueChange()},i.options.deferRequestBy):i.onValueChange())}},onValueChange:function(){var t=this,r=t.options,f=t.el.val(),i=t.getQuery(f),u;if(t.selection&&t.currentValue!==i&&(t.selection=null,(r.onInvalidateSelection||n.noop).call(t.element)),clearInterval(t.onChangeInterval),t.currentValue=f,t.selectedIndex=-1,r.triggerSelectOnValidInput&&(u=t.findSuggestionIndex(i),u!==-1)){t.select(u);return}i.length<r.minChars?t.hide():t.getSuggestions(i)},findSuggestionIndex:function(t){var r=this,i=-1,u=t.toLowerCase();return n.each(r.suggestions,function(n,t){if(t.value.toLowerCase()===u)return i=n,!1}),i},getQuery:function(t){var r=this.options.delimiter,i;return r?(i=t.split(r),n.trim(i[i.length-1])):t},getSuggestionsLocal:function(t){var f=this,r=f.options,e=t.toLowerCase(),o=r.lookupFilter,u=parseInt(r.lookupLimit,10),i;return i={suggestions:n.grep(r.lookup,function(n){return o(n,t,e)})},u&&i.suggestions.length>u&&(i.suggestions=i.suggestions.slice(0,u)),i},getSuggestions:function(t){var u,i=this,r=i.options,f=r.serviceUrl,e,o,s;if(r.params[r.paramName]=t,e=r.ignoreParams?null:r.params,r.onSearchStart.call(i.element,r.params)!==!1){if(n.isFunction(r.lookup)){r.lookup(t,function(n){i.suggestions=n.suggestions;i.suggest();r.onSearchComplete.call(i.element,t,n.suggestions)});return}i.isLocal?u=i.getSuggestionsLocal(t):(n.isFunction(f)&&(f=f.call(i.element,t)),o=f+"?"+n.param(e||{}),u=i.cachedResponse[o]);u&&n.isArray(u.suggestions)?(i.suggestions=u.suggestions,i.suggest(),r.onSearchComplete.call(i.element,t,u.suggestions)):i.isBadQuery(t)?r.onSearchComplete.call(i.element,t,[]):(i.abortAjax(),s={url:f,data:e,type:r.type,dataType:r.dataType},n.extend(s,r.ajaxSettings),i.currentRequest=n.ajax(s).done(function(n){var u;i.currentRequest=null;u=r.transformResult(n);i.processResponse(u,t,o);r.onSearchComplete.call(i.element,t,u.suggestions)}).fail(function(n,u,f){r.onSearchError.call(i.element,t,n,u,f)}))}},isBadQuery:function(n){if(!this.options.preventBadQueries)return!1;for(var t=this.badQueries,i=t.length;i--;)if(n.indexOf(t[i])===0)return!0;return!1},hide:function(){var t=this,i=n(t.suggestionsContainer);n.isFunction(t.options.onHide)&&t.visible&&t.options.onHide.call(t.element,i);t.visible=!1;t.selectedIndex=-1;clearInterval(t.onChangeInterval);n(t.suggestionsContainer).hide();t.signalHint(null)},suggest:function(){if(this.suggestions.length===0){this.options.showNoSuggestionNotice?this.noSuggestions():this.hide();return}var t=this,i=t.options,s=i.groupBy,l=i.formatResult,u=t.getQuery(t.currentValue),h=t.classes.suggestion,a=t.classes.selected,r=n(t.suggestionsContainer),v=n(t.noSuggestionsContainer),c=i.beforeRender,f="",e,y=function(n){var t=n.data[s];return e===t?"":(e=t,'<div class="autocomplete-group"><strong>'+e+"<\/strong><\/div>")},o;if(i.triggerSelectOnValidInput&&(o=t.findSuggestionIndex(u),o!==-1)){t.select(o);return}n.each(t.suggestions,function(n,t){s&&(f+=y(t,u,n));f+='<div class="'+h+'" data-index="'+n+'">'+l(t,u)+"<\/div>"});this.adjustContainerWidth();v.detach();r.html(f);n.isFunction(c)&&c.call(t.element,r);t.fixPosition();r.show();i.autoSelectFirst&&(t.selectedIndex=0,r.scrollTop(0),r.children("."+h).first().addClass(a));t.visible=!0;t.findBestHint()},noSuggestions:function(){var t=this,i=n(t.suggestionsContainer),r=n(t.noSuggestionsContainer);this.adjustContainerWidth();r.detach();i.empty();i.append(r);t.fixPosition();i.show();t.visible=!0},adjustContainerWidth:function(){var t=this,r=t.options,i,u=n(t.suggestionsContainer);r.width==="auto"&&(i=t.el.outerWidth()-2,u.width(i>0?i:300))},findBestHint:function(){var t=this,i=t.el.val().toLowerCase(),r=null;i&&(n.each(t.suggestions,function(n,t){var u=t.value.toLowerCase().indexOf(i)===0;return u&&(r=t),!u}),t.signalHint(r))},signalHint:function(t){var r="",i=this;t&&(r=i.currentValue+t.value.substr(i.currentValue.length));i.hintValue!==r&&(i.hintValue=r,i.hint=t,(this.options.onHint||n.noop)(r))},verifySuggestionsFormat:function(t){return t.length&&typeof t[0]=="string"?n.map(t,function(n){return{value:n,data:null}}):t},validateOrientation:function(t,i){return t=n.trim(t||"").toLowerCase(),n.inArray(t,["auto","bottom","top"])===-1&&(t=i),t},processResponse:function(n,t,i){var r=this,u=r.options;(n.suggestions=r.verifySuggestionsFormat(n.suggestions),u.noCache||(r.cachedResponse[i]=n,u.preventBadQueries&&n.suggestions.length===0&&r.badQueries.push(t)),t===r.getQuery(r.currentValue))&&(r.suggestions=n.suggestions,r.suggest())},activate:function(t){var i=this,r,u=i.classes.selected,f=n(i.suggestionsContainer),e=f.find("."+i.classes.suggestion);return(f.find("."+u).removeClass(u),i.selectedIndex=t,i.selectedIndex!==-1&&e.length>i.selectedIndex)?(r=e.get(i.selectedIndex),n(r).addClass(u),r):null},selectHint:function(){var t=this,i=n.inArray(t.hint,t.suggestions);t.select(i)},select:function(n){var t=this;t.hide();t.onSelect(n)},moveUp:function(){var t=this;if(t.selectedIndex!==-1){if(t.selectedIndex===0){n(t.suggestionsContainer).children().first().removeClass(t.classes.selected);t.selectedIndex=-1;t.el.val(t.currentValue);t.findBestHint();return}t.adjustScroll(t.selectedIndex-1)}},moveDown:function(){var n=this;n.selectedIndex!==n.suggestions.length-1&&n.adjustScroll(n.selectedIndex+1)},adjustScroll:function(t){var i=this,u=i.activate(t),r,f,o,e;u&&(e=n(u).outerHeight(),r=u.offsetTop,f=n(i.suggestionsContainer).scrollTop(),o=f+i.options.maxHeight-e,r<f?n(i.suggestionsContainer).scrollTop(r):r>o&&n(i.suggestionsContainer).scrollTop(r-i.options.maxHeight+e),i.options.preserveInput||i.el.val(i.getValue(i.suggestions[t].value)),i.signalHint(null))},onSelect:function(t){var i=this,u=i.options.onSelect,r=i.suggestions[t];i.currentValue=i.getValue(r.value);i.currentValue===i.el.val()||i.options.preserveInput||i.el.val(i.currentValue);i.signalHint(null);i.suggestions=[];i.selection=r;n.isFunction(u)&&u.call(i.element,r)},getValue:function(n){var r=this,u=r.options.delimiter,t,i;return u?(t=r.currentValue,i=t.split(u),i.length===1)?n:t.substr(0,t.length-i[i.length-1].length)+n:n},dispose:function(){var t=this;t.el.off(".autocomplete").removeData("autocomplete");t.disableKillerFn();n(window).off("resize.autocomplete",t.fixPositionCapture);n(t.suggestionsContainer).remove()}};n.fn.autocomplete=n.fn.devbridgeAutocomplete=function(t,r){var u="autocomplete";return arguments.length===0?this.first().data(u):this.each(function(){var e=n(this),f=e.data(u);typeof t=="string"?f&&typeof f[t]=="function"&&f[t](r):(f&&f.dispose&&f.dispose(),f=new i(this,t),e.data(u,f))})}});